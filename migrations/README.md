# Миграции

Миграции хранятся в виде пронумерованных SQL‑файлов в этой папке.

## Как применять

1. Убедись, что у тебя есть актуальная резервная копия БД (`pg_dump`).
2. Выполняй файлы в порядке возрастания номера:
   ```bash
   psql "$DATABASE_URL" -f migrations/001_initial.sql
   psql "$DATABASE_URL" -f migrations/002_add_timezone.sql
   ...
   ```
3. После применения новой миграции добавь запись об этом в `README.md` проекта.

## Добавление новой миграции

1. Скопируй шаблон:
   ```bash
   cp migrations/000_template.sql migrations/003_description.sql
   ```
2. Опиши необходимые `ALTER TABLE`/`CREATE TABLE` и комментарии внутри файла.
3. Обнови `schema.sql`, чтобы оно отражало итоговую структуру.

> В будущем сюда можно подключить Alembic: просто положи `alembic.ini` и `env.py` рядом и продолжай вести SQL‑файлы для ручного отката.
